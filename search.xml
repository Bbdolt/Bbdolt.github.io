<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>www</title>
      <link href="/2024/10/13/www/"/>
      <url>/2024/10/13/www/</url>
      
        <content type="html"><![CDATA[<h2 id="利用Hyper-V创建一个虚拟交换机"><a href="#利用Hyper-V创建一个虚拟交换机" class="headerlink" title="利用Hyper-V创建一个虚拟交换机"></a>利用Hyper-V创建一个虚拟交换机</h2><p>点击 win + s，搜索Hyper-V管理器，点击进去。</p><p><img src="http://192.168.123.51:8880/cover.png"><br>点击“虚拟交换机管理器”。</p><p><img src="https://i-blog.csdnimg.cn/direct/4f875b91f36946e78f572d808f08d7da.png"><br>类型选择“外部”，点击创建虚拟交换机。</p><p><img src="https://i-blog.csdnimg.cn/direct/ea112f466419442bbde1ebf5460f9684.png"><br>输入名称，和你所用的网卡，配置完成后，点击应用、确定。</p><p><img src="https://i-blog.csdnimg.cn/direct/9fc7cf1b1fcf4b858d7feb779e5b7ad8.png">​<br>（1）第一次创建，遇到创建不了的问题</p><p><img src="https://i-blog.csdnimg.cn/direct/1dafeb284c13415f9b85d2333bfa7a9b.png"><br>解决方法<br>首先找到控制面板 -&gt; 查看网络状态和任务 -&gt; 更改适配器设置 -&gt; 找到WLAN（如果不是连接的WIFI，以太网也一样）-&gt; 找到共享选项全部关闭（把勾取消掉）</p><p><img src="https://i-blog.csdnimg.cn/direct/346ce6a0afbc41df94e4951e4bb5cc10.png"><br>（2）之前有过现在删除重新创建<br><img src="https://i-blog.csdnimg.cn/direct/1b1d30d96ea24ccba5634f53b2ed0ba2.png"><br>解决方法<br>win + r 输入control，进入控制面板 -&gt; 查看网络状态和任务 -&gt; 更改适配器设置 -&gt; 找到WLAN（如果不是连接的WIFI，以太网也一样）-&gt; 将Hyper-V可拓展的虚拟机交换机给取消。<br><img src="https://i-blog.csdnimg.cn/direct/0f372d60a7e848438ada13a0febf471d.png"></p><h2 id="wslconfig配置文件"><a href="#wslconfig配置文件" class="headerlink" title=".wslconfig配置文件"></a>.wslconfig配置文件</h2><p><code>.wslconfig</code> 是一个用于配置 Windows Subsystem for Linux (WSL) 的配置文件。<code>.wslconfig</code> 文件提供了对 WSL 2 的全局配置选项。这个文件在%Userprofile%（C:\用户\用户名）目录下，如果没有就创建一个。<br>配置信息如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">; 这是 WSL 2 的配置文件</span><br><span class="line"></span><br><span class="line">[wsl2]</span><br><span class="line">processors=4                            ; 设置 WSL 2 可以使用的最大 CPU 核心数为 4，自行修改</span><br><span class="line">memory=4GB                              ; 设置 WSL 2 可以使用的最大内存量为 4 GB，自行修改</span><br><span class="line">swap=4GB                                ; 设置 WSL 2 的交换空间大小为 4 GB，自行修改</span><br><span class="line">localhostForwarding=<span class="literal">true</span>                ; 允许本地主机转发</span><br><span class="line">networkingMode=bridged                  ; 设置网络模式为桥接模式</span><br><span class="line">vmSwitch=WSL                            ; 指定使用的虚拟交换机为 <span class="string">&quot;WSL&quot;</span>，这里填虚拟交换机的名称</span><br><span class="line">ipv6=<span class="literal">true</span>                               ; 启用 IPv6 支持</span><br><span class="line">dhcp=<span class="literal">false</span>                              ; 禁用 DHCP，手动设置网络配置</span><br><span class="line"></span><br><span class="line">[experimental]</span><br><span class="line">autoMemoryReclaim=gradual               ; 慢慢回收内存</span><br><span class="line">autoProxy=<span class="literal">true</span>                          ; 启用自动代理设置</span><br></pre></td></tr></table></figure><h2 id="etc-netplan目录下生成-yaml文件"><a href="#etc-netplan目录下生成-yaml文件" class="headerlink" title="&#x2F;etc&#x2F;netplan目录下生成*.yaml文件"></a>&#x2F;etc&#x2F;netplan目录下生成*.yaml文件</h2><p>完成以上两步（虽然已经是桥接模式但是WSL2子系统的ip不是固定的，而且可能会与宿主主机的ip相同，那么你在子系统开启的服务，例如：8989端口开启了http服务，那么你在主机是访问不到这个服务的），所以我们还要进一步配置。</p><p>在 Linux 系统中，<code>/etc/netplan</code> 目录下的 <code>.yaml</code> 文件是用于配置网络设置的。</p><p>首先进入，Linux子系统中，输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@LAPTOP-GUB0QBS8:/# <span class="built_in">cd</span> /etc/netplan</span><br><span class="line">root@LAPTOP-GUB0QBS8:/etc/netplan# <span class="built_in">ls</span></span><br><span class="line">zwy.yaml                                                 //这里之前已经创建过了</span><br><span class="line">root@LAPTOP-GUB0QBS8:/etc/netplan# <span class="built_in">touch</span> xxx.yaml</span><br><span class="line">root@LAPTOP-GUB0QBS8:/etc/netplan# <span class="built_in">ls</span></span><br><span class="line">xxx.yaml  zwy.yaml</span><br><span class="line">root@LAPTOP-GUB0QBS8:/etc/netplan# nano xxx.yaml         //进行编辑</span><br></pre></td></tr></table></figure><p>编辑内容为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  ethernets:</span><br><span class="line">    eth0:</span><br><span class="line">      dhcp4: no</span><br><span class="line">      addresses:</span><br><span class="line">        - 192.168.1.223/24   <span class="comment"># 设置一个不与主机相同的IP地址</span></span><br><span class="line">      gateway4: 192.168.1.1  <span class="comment"># 设置网关地址</span></span><br><span class="line">      nameservers:           <span class="comment">#dns服务，这下面可以跟我一样</span></span><br><span class="line">          addresses:</span><br><span class="line">              - 8.8.8.8</span><br><span class="line">              - 8.8.4.4</span><br><span class="line">              - 223.5.5.5  <span class="comment"># 添加中国移动公共DNS服务器地址</span></span><br><span class="line">              - 223.6.6.6  <span class="comment"># 添加中国移动公共DNS服务器地址</span></span><br></pre></td></tr></table></figure><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>查看，Linux子系统的ip（这样就配置完成了），且如果用Vmware创建的虚拟机是桥接模式，它们之间是可以相互ping通的。<br><img src="https://i-blog.csdnimg.cn/direct/c750994a73b44fc7993294b83c51e3ff.png"></p><p>这里还用关于WSL一些操作的笔记，可以下来看看，用的Xmind这款软件做的笔记。<a href="https://www.123pan.com/s/WK4vTd-dapn.html" title="https://www.123pan.com/s/WK4vTd-dapn.html">https://www.123pan.com/s/WK4vTd-dapn.html</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
